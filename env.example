# =============================================================================
# Ignite Fitness - Environment Configuration Template
# =============================================================================
# Copy this file to .env and customize for your environment
# cp env.example .env
# =============================================================================

# =============================================================================
# CORE APPLICATION CONFIGURATION
# =============================================================================

NODE_ENV=development
APP_URL=http://localhost:3000
PORT=3000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Supabase Configuration
SUPABASE_URL=your-supabase-project-url
SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key

# PostgreSQL Configuration (if using direct connection)
DATABASE_URL=postgresql://user:password@localhost:5432/ignite_fitness
DB_HOST=localhost
DB_PORT=5432
DB_NAME=ignite_fitness
DB_USER=postgres
DB_PASSWORD=your-password

# =============================================================================
# AUTHENTICATION & SECURITY
# =============================================================================

# JWT Configuration
JWT_SECRET=your-32-character-secret-key-minimum
JWT_EXPIRES_IN=7d
JWT_ALGORITHM=HS256

# CSRF Protection
CSRF_SECRET=your-32-character-csrf-secret-key
CSRF_ENABLED=true

# Session Management
SESSION_SECRET=your-32-character-session-secret-key
SESSION_TIMEOUT_HOURS=24
SESSION_SLIDING_WINDOW=true

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
OAUTH_RATE_LIMIT_MAX=5

# =============================================================================
# THIRD-PARTY INTEGRATIONS
# =============================================================================

# Strava Integration
STRAVA_CLIENT_ID=your-strava-client-id
STRAVA_CLIENT_SECRET=your-strava-client-secret
STRAVA_REDIRECT_URI=http://localhost:3000/api/auth/strava/callback
STRAVA_WEBHOOK_SECRET=your-strava-webhook-secret

# =============================================================================
# LOGGING & DEBUGGING
# =============================================================================

DEBUG=false
LOG_LEVEL=info
LOG_FORMAT=json
ENABLE_REMOTE_LOGGING=false
REMOTE_LOGGING_ENDPOINT=

# =============================================================================
# BETA TESTING & DEMO CONFIGURATION
# =============================================================================

# Demo Mode Configuration
# Set to true to enable demo mode with seed data
DEMO_MODE=false
DEMO_AUTO_LOGIN=false
DEMO_USER_EMAIL=demo@ignitefitness.local
DEMO_USER_NAME=Demo User

# Beta Testing Features
BETA_TESTING_ENABLED=true
BETA_SOCCER_SHAPE_CONTENT=true
BETA_LOAD_GUARDRAILS=true
BETA_WEEK_VIEW=true
BETA_AI_SUBSTITUTIONS=true

# Beta Feature Flags
ENABLE_SOCCER_SHAPE_WORKOUTS=true
ENABLE_WEEKLY_RAMP_GUARDRAILS=true
ENABLE_WEEK_VIEW_DASHBOARD=true
ENABLE_CROSS_MODAL_SUBSTITUTIONS=true
ENABLE_LOAD_VISUALIZATION=true

# =============================================================================
# LOAD CALCULATION & GUARDRAILS CONFIGURATION
# =============================================================================

# Load Calculation Settings
LOAD_CALCULATION_METHOD=session_rpe
DEFAULT_BASE_RPE=6
TRIMP_ENABLED=true
MET_CALCULATION_ENABLED=true

# Ramp Rate Guardrails
GUARDRAILS_ENABLED=true
MAX_WEEKLY_RAMP_RATE_BEGINNER=0.08
MAX_WEEKLY_RAMP_RATE_INTERMEDIATE=0.10
MAX_WEEKLY_RAMP_RATE_ADVANCED=0.12
MAX_WEEKLY_RAMP_RATE_ELITE=0.15

# HIIT Reduction Settings
HIIT_REDUCTION_BEGINNER=0.25
HIIT_REDUCTION_INTERMEDIATE=0.20
HIIT_REDUCTION_ADVANCED=0.15
HIIT_REDUCTION_ELITE=0.10

# Missed Days Protocol
MISSED_DAYS_THRESHOLD=3
MISSED_DAYS_REDUCTION_RATE=0.15
MAX_MISSED_DAYS_REDUCTION=0.40

# Pain Flag Response
PAIN_FLAG_IMMEDIATE_REDUCTION=0.30
PAIN_FLAG_DURATION_DAYS=14
PAIN_SCALING_FACTOR=0.05

# =============================================================================
# SOCCER-SHAPE CONTENT CONFIGURATION
# =============================================================================

# Soccer-Shape Workout Settings
SOCCER_SHAPE_ENABLED=true
SOCCER_SHAPE_SEED_DATA=true
SOCCER_SHAPE_WORKOUT_COUNT=12

# Soccer-Shape Tags
ENABLE_ACCELERATION_TAG=true
ENABLE_COD_TAG=true
ENABLE_VO2_TAG=true
ENABLE_ANAEROBIC_CAPACITY_TAG=true
ENABLE_NEUROMOTOR_TAG=true

# Cross-Modal Substitution Settings
CROSS_MODAL_SUBSTITUTIONS_ENABLED=true
SUBSTITUTION_LOAD_TOLERANCE=0.20
MIN_ADAPTATION_MATCH=0.50
MAX_SUBSTITUTION_OPTIONS=3

# =============================================================================
# WEEK VIEW DASHBOARD CONFIGURATION
# =============================================================================

# Week View Settings
WEEK_VIEW_ENABLED=true
WEEK_VIEW_DEFAULT_WEEKS=3
WEEK_VIEW_LOAD_HISTORY_WEEKS=4

# Load Status Thresholds
LOAD_STATUS_ON_TRACK_MIN=0.90
LOAD_STATUS_ON_TRACK_MAX=1.10
LOAD_STATUS_SLIGHT_VARIANCE_THRESHOLD=0.20
LOAD_STATUS_SIGNIFICANT_VARIANCE_THRESHOLD=0.30

# Color Coding
LOAD_STATUS_ON_TRACK_COLOR=#10b981
LOAD_STATUS_CAUTION_COLOR=#f59e0b
LOAD_STATUS_WARNING_COLOR=#ef4444

# =============================================================================
# DEVELOPER EXPERIENCE CONFIGURATION
# =============================================================================

# Development Tools
DEV_TOOLS_ENABLED=true
HOT_RELOAD_ENABLED=true
SOURCE_MAPS_ENABLED=true
DEV_SERVER_PORT=3000

# Code Quality Tools
ESLINT_ENABLED=true
PRETTIER_ENABLED=true
TYPESCRIPT_CHECK_ENABLED=true
LINT_ON_SAVE=true

# Testing Configuration
TEST_COVERAGE_THRESHOLD=80
TEST_WATCH_MODE=false
TEST_VERBOSE=false
INTEGRATION_TESTS_ENABLED=true
E2E_TESTS_ENABLED=false

# =============================================================================
# DEMO DATA CONFIGURATION
# =============================================================================

# Demo User Configuration
DEMO_USER_EXPERIENCE_LEVEL=intermediate
DEMO_USER_GOALS=strength,endurance
DEMO_USER_EQUIPMENT=barbell,dumbbell,bodyweight
DEMO_USER_TIME_WINDOWS=morning,evening
DEMO_USER_INJURY_FLAGS=none

# Demo Session Data
DEMO_SESSIONS_ENABLED=true
DEMO_SESSIONS_COUNT=20
DEMO_SESSIONS_WEEKS=4
DEMO_PLANNED_SESSIONS=true
DEMO_COMPLETED_SESSIONS=true

# Demo Load Patterns
DEMO_PROGRESSIVE_OVERLOAD=true
DEMO_RAMP_RATE_VIOLATION=false
DEMO_MISSED_DAYS_SCENARIO=false
DEMO_PAIN_FLAG_SCENARIO=false

# Demo Soccer-Shape Content
DEMO_SOCCER_WORKOUTS=true
DEMO_SUBSTITUTION_SCENARIOS=true
DEMO_CROSS_MODAL_EXAMPLES=true

# =============================================================================
# QUICK DEVELOPMENT SETUP
# =============================================================================

# For immediate development setup, use these minimal settings:
# 1. Copy this file to .env
# 2. Set these required values:
#    - SUPABASE_URL=your-supabase-url
#    - SUPABASE_ANON_KEY=your-anon-key
#    - JWT_SECRET=your-32-char-secret
# 3. Enable demo mode: DEMO_MODE=true
# 4. Run: npm run demo

# Safe Development Defaults (already working values)
# NODE_ENV=development
# APP_URL=http://localhost:3000
# DEMO_MODE=true
# DEMO_AUTO_LOGIN=true
# BETA_TESTING_ENABLED=true
# GUARDRAILS_ENABLED=true
# SOCCER_SHAPE_ENABLED=true
# WEEK_VIEW_ENABLED=true

# =============================================================================
# PRODUCTION DEPLOYMENT CHECKLIST
# =============================================================================

# Before deploying to production, ensure:
# ✓ DEMO_MODE=false
# ✓ DEBUG=false
# ✓ NODE_ENV=production
# ✓ All security features enabled
# ✓ Strong secrets (32+ characters)
# ✓ HTTPS enabled
# ✓ Rate limiting enabled
# ✓ Audit logging enabled
# ✓ GDPR compliance enabled
# ✓ Data retention policies set
# ✓ Monitoring configured
# ✓ Backup strategy implemented

# =============================================================================
# BETA TESTING SETUP GUIDE
# =============================================================================

# For Beta Testers:
# 1. Get access to Supabase project
# 2. Copy this file to .env
# 3. Set SUPABASE_URL and SUPABASE_ANON_KEY
# 4. Generate JWT_SECRET: openssl rand -base64 32
# 5. Set DEMO_MODE=true for quick start
# 6. Run: npm install && npm run demo
# 7. Open browser to http://localhost:3000

# Beta Testing Features to Test:
# ✓ Soccer-shape workout catalog (12+ workouts)
# ✓ Ramp rate guardrails (10% weekly limit)
# ✓ HIIT reduction when guardrails triggered
# ✓ Week view with color-coded load status
# ✓ Cross-modal substitutions (run/bike/swim)
# ✓ Daily load breakdown visualization
# ✓ Insights and recommendations
# ✓ Mobile responsive design

# =============================================================================
# TROUBLESHOOTING BETA ISSUES
# =============================================================================

# Common Beta Testing Issues:
# 1. "Demo not loading": Check DEMO_MODE=true and npm run demo
# 2. "Guardrails not working": Verify GUARDRAILS_ENABLED=true
# 3. "Soccer workouts missing": Check SOCCER_SHAPE_ENABLED=true
# 4. "Week view empty": Ensure demo data loaded with DEMO_SESSIONS_ENABLED=true
# 5. "Substitutions failing": Verify CROSS_MODAL_SUBSTITUTIONS_ENABLED=true
# 6. "Database errors": Check Supabase credentials and connectivity

# Debug Mode for Beta Testing:
# Set DEBUG=true and LOG_LEVEL=debug for verbose logging
# Set TEST_MODE=true for additional validation
# Set ENABLE_DEV_TOOLS=true for browser dev tools integration

# =============================================================================
# SUPPORT FOR BETA TESTERS
# =============================================================================

# Getting Help:
# 1. Check docs/beta_checklist.md for step-by-step testing
# 2. Review logs with DEBUG=true enabled
# 3. Test with DEMO_MODE=true first
# 4. Report issues with environment details
# 5. Include browser console logs with reports

# Performance Testing:
# Enable ENABLE_METRICS=true for performance data
# Use npm run test:perf for performance validation
# Check browser developer tools for load times
# Test on mobile devices for responsive design

# =============================================================================
