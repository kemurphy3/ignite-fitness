(self.webpackChunkignite_fitness=self.webpackChunkignite_fitness||[]).push([[359],{359:function(e){class t{constructor(){this.logger=window.SafeLogger||console,this.storageManager=window.StorageManager,this.authManager=window.AuthManager,this.phases={"off-season":{name:"Off-Season",duration:"3-4 months",focus:"Strength & Power Development",volume:"High",intensity:"Moderate-High",frequency:"5-6 days/week",priorities:["Build maximum strength","Address weaknesses","Improve movement patterns","Injury prevention","Conditioning base"],adjustments:{volumeMultiplier:1.2,intensityMultiplier:.8,recoveryDays:1,maxSessionDuration:120}},"pre-season":{name:"Pre-Season",duration:"6-8 weeks",focus:"Sport-Specific Preparation",volume:"Moderate-High",intensity:"High",frequency:"4-5 days/week",priorities:["Sport-specific conditioning","Speed & agility work","Tactical preparation","Peak strength maintenance","Competition readiness"],adjustments:{volumeMultiplier:.9,intensityMultiplier:1.1,recoveryDays:2,maxSessionDuration:90}},"in-season":{name:"In-Season",duration:"4-6 months",focus:"Performance Maintenance",volume:"Low-Moderate",intensity:"Moderate",frequency:"2-3 days/week",priorities:["Maintain strength gains","Recovery optimization","Injury prevention","Peak performance","Competition focus"],adjustments:{volumeMultiplier:.6,intensityMultiplier:.9,recoveryDays:3,maxSessionDuration:60}},playoffs:{name:"Playoffs",duration:"2-4 weeks",focus:"Peak Performance",volume:"Low",intensity:"High",frequency:"1-2 days/week",priorities:["Peak performance","Maximum recovery","Mental preparation","Tactical refinement","Competition execution"],adjustments:{volumeMultiplier:.4,intensityMultiplier:1.2,recoveryDays:4,maxSessionDuration:45}}},this.currentPhase=this.detectCurrentPhase(),this.seasonStartDate=this.getSeasonStartDate(),this.gameSchedule=[]}detectCurrentPhase(){const e=new Date,t=e.getMonth();e.getDate();return t>=0&&t<=2?"off-season":t>=3&&t<=4?"pre-season":t>=5&&t<=10?"in-season":t>=11?"playoffs":"off-season"}getSeasonStartDate(){const e=(new Date).getFullYear();return new Date(e,8,1)}setPhase(e){try{return e&&this.phases[e]?(this.currentPhase=e,this.savePhaseToStorage(),window.EventBus&&window.EventBus.emit("season:phaseChanged",{phase:this.currentPhase,details:this.phases[this.currentPhase]}),!0):(this.logger.warn(`Invalid phase: ${e}`),!1)}catch(e){return this.logger.error("Failed to set phase:",e),!1}}getCurrentPhase(){try{const e=this.currentPhase||this.detectCurrentPhase();return{phase:e,details:this.phases[e]||this.phases["off-season"],daysUntilSeason:this.getDaysUntilSeason(),phaseProgress:this.calculatePhaseProgress(),nextPhase:this.getNextPhase(),weeksInPhase:this.getWeeksInPhase()}}catch(e){return this.logger.error("Failed to get current phase:",e),{phase:"off-season",details:this.phases["off-season"],daysUntilSeason:0,phaseProgress:0}}}getNextPhase(){const e=["off-season","pre-season","in-season","playoffs","off-season"],t=e.indexOf(this.currentPhase);return t>=0&&t<e.length-1?e[t+1]:"off-season"}getWeeksInPhase(){try{const e=(new Date).getMonth();switch(this.currentPhase){case"off-season":return Math.ceil((e+1)/4.33);case"pre-season":return Math.ceil(Math.max(0,e-2)/4.33);case"in-season":return Math.ceil(Math.max(0,e-4)/4.33);case"playoffs":return Math.ceil(Math.max(0,e-10)/4.33);default:return 0}}catch(e){return this.logger.error("Failed to calculate weeks in phase:",e),0}}getDaysUntilSeason(){const e=new Date,t=this.getSeasonStartDate()-e;return Math.ceil(t/864e5)}getPhaseProgress(){const e=(new Date).getMonth();switch(this.currentPhase){case"off-season":return Math.min((e+1)/3,1);case"pre-season":return Math.max(0,Math.min((e-2)/2,1));case"in-season":return Math.max(0,Math.min((e-4)/6,1));case"playoffs":return Math.max(0,Math.min((e-10)/1,1));default:return 0}}generatePhaseWorkoutPlan(e){const t=this.phases[this.currentPhase],{adjustments:s}=t;return{...e,sessions:e.sessions.map(e=>({...e,duration:Math.min(e.duration*s.volumeMultiplier,s.maxSessionDuration),intensity:e.intensity*s.intensityMultiplier,exercises:this.adjustExercisesForPhase(e.exercises,t)}))}}adjustExercisesForPhase(e,t){return e.map(e=>{const s={...e};return"Off-Season"===t.name?s.sets=Math.ceil(1.2*e.sets):"In-Season"===t.name?s.sets=Math.ceil(.8*e.sets):"Playoffs"===t.name&&(s.sets=Math.ceil(.6*e.sets)),"Off-Season"===t.name?s.reps=Math.ceil(1.1*e.reps):"Pre-Season"===t.name&&(s.reps=Math.ceil(.9*e.reps)),s})}addGame(e){try{if(!e||!e.date)return this.logger.warn("Invalid game data provided"),!1;const t=new Date(e.date);if(isNaN(t.getTime()))return this.logger.warn("Invalid game date:",e.date),!1;const s=this.gameSchedule.find(e=>e.date.toDateString()===t.toDateString());if(s)Object.assign(s,{date:t,opponent:e.opponent||s.opponent,type:e.type||s.type||"regular",location:e.location||s.location||"home",notes:e.notes||s.notes||null}),this.logger.debug("Game updated:",s);else{const s={date:t,opponent:e.opponent||null,type:e.type||"regular",location:e.location||"home",notes:e.notes||null};this.gameSchedule.push(s),this.logger.debug("Game added:",s)}return this.gameSchedule.sort((e,t)=>e.date-t.date),this.saveScheduleToStorage(),window.EventBus&&window.EventBus.emit("season:gameAdded",{game:t}),!0}catch(e){return this.logger.error("Failed to add game:",e),!1}}getUpcomingGames(e=5){const t=new Date;return this.gameSchedule.filter(e=>e.date>=t).slice(0,e)}getGamesThisWeek(){const e=new Date,t=new Date(e);t.setDate(e.getDate()-e.getDay());const s=new Date(t);return s.setDate(t.getDate()+6),this.gameSchedule.filter(e=>e.date>=t&&e.date<=s)}isGameDay(e=new Date){return this.gameSchedule.some(t=>t.date.toDateString()===e.toDateString())}getNextGame(){const e=new Date,t=this.gameSchedule.filter(t=>t.date>e);return t.length>0?t[0]:null}generatePreGameWorkout(){return{type:"Pre-Game",duration:30,intensity:"Light",exercises:[{name:"Dynamic Warm-up",sets:1,reps:10,duration:10},{name:"Light Movement Prep",sets:2,reps:8,duration:15},{name:"Mental Preparation",sets:1,reps:1,duration:5}]}}generatePostGameRecovery(){return{type:"Post-Game Recovery",duration:20,intensity:"Very Light",exercises:[{name:"Cool Down Walk",sets:1,reps:1,duration:5},{name:"Static Stretching",sets:1,reps:1,duration:10},{name:"Foam Rolling",sets:1,reps:1,duration:5}]}}getPhaseRecommendations(){try{const e=this.phases[this.currentPhase]||this.phases["off-season"],t=[];t.push({category:"Training Focus",message:`Focus on ${e.focus.toLowerCase()} during ${e.name}`,priority:"high",phase:this.currentPhase}),t.push({category:"Volume",message:`Maintain ${e.volume.toLowerCase()} training volume`,priority:"medium",multiplier:e.adjustments.volumeMultiplier}),t.push({category:"Intensity",message:`Target ${e.intensity.toLowerCase()} training intensity`,priority:"medium",multiplier:e.adjustments.intensityMultiplier}),e.adjustments.recoveryDays>2&&t.push({category:"Recovery",message:`Ensure ${e.adjustments.recoveryDays} rest days between intense sessions`,priority:"high",recoveryDays:e.adjustments.recoveryDays}),t.push({category:"Duration",message:`Limit sessions to ${e.adjustments.maxSessionDuration} minutes during ${e.name}`,priority:"low",maxDuration:e.adjustments.maxSessionDuration}),this.isGameDay()&&t.push({category:"Game Day",message:"Focus on light movement and mental preparation",priority:"high",action:"Use pre-game workout"});const s=this.getNextGame();if(s){const e=Math.ceil((s.date-new Date)/864e5);e<=2?t.push({category:"Upcoming Game",message:`Game in ${e} days - reduce training intensity`,priority:"high",daysUntil:e}):e<=7&&t.push({category:"Upcoming Game",message:`Game in ${e} days - start tapering intensity`,priority:"medium",daysUntil:e})}const a=this.calculatePhaseProgress();return a>.8&&t.push({category:"Phase Transition",message:`${e.name} is almost complete. Prepare for ${this.getNextPhase()} phase.`,priority:"medium",progress:a}),t}catch(e){return this.logger.error("Failed to get phase recommendations:",e),[]}}savePhaseToStorage(){localStorage.setItem("ignitefitness_current_phase",this.currentPhase)}loadPhaseFromStorage(){const e=localStorage.getItem("ignitefitness_current_phase");e&&this.phases[e]&&(this.currentPhase=e)}saveScheduleToStorage(){localStorage.setItem("ignitefitness_game_schedule",JSON.stringify(this.gameSchedule))}loadScheduleFromStorage(){const e=localStorage.getItem("ignitefitness_game_schedule");if(e)try{this.gameSchedule=JSON.parse(e).map(e=>({...e,date:new Date(e.date)}))}catch(e){this.logger.error("Error loading game schedule",{error:e.message,stack:e.stack}),this.gameSchedule=[]}}initialize(){try{this.loadPhaseFromStorage(),this.loadScheduleFromStorage();const e=this.detectCurrentPhase();return this.currentPhase&&this.currentPhase===e||(this.currentPhase=e,this.savePhaseToStorage()),this.logger.debug(`Seasonal Training System initialized - Current Phase: ${this.currentPhase}`),!0}catch(e){return this.logger.error("Failed to initialize Seasonal Training System:",e),this.currentPhase="off-season",this.gameSchedule=[],!1}}adjustWorkoutForPhase(e){try{if(!e)return this.logger.warn("No workout provided for phase adjustment"),null;const t=this.phases[this.currentPhase]||this.phases["off-season"],{adjustments:s}=t,a={...e,phase:this.currentPhase,phaseAdjustments:s,adjustedAt:(new Date).toISOString()};return e.exercises&&Array.isArray(e.exercises)&&(a.exercises=e.exercises.map(e=>{if(!e)return e;const a={...e};if("number"==typeof a.sets&&(a.sets=Math.max(1,Math.round(a.sets*s.volumeMultiplier))),a.weight&&"number"==typeof a.weight&&(a.weight=Math.max(0,Math.round(a.weight*s.intensityMultiplier))),"number"==typeof a.reps){let e=1;"Off-Season"===t.name?e=1.1:"Pre-Season"===t.name?e=.9:"In-Season"===t.name?e=.8:"Playoffs"===t.name&&(e=.7),a.reps=Math.max(1,Math.ceil(a.reps*e))}return a._phaseAdjusted=!0,a})),a.duration&&"number"==typeof a.duration&&(a.duration=Math.min(Math.max(1,Math.round(a.duration*s.volumeMultiplier)),s.maxSessionDuration)),a.phaseRationale=`Workout adjusted for ${t.name}: ${t.focus}`,a}catch(t){return this.logger.error("Failed to adjust workout for phase:",t),e}}calculatePhaseProgress(){const e=new Date;e.getMonth(),e.getDate();switch(this.currentPhase){case"off-season":{const t=new Date(e.getFullYear(),0,1),s=new Date(e.getFullYear(),2,31)-t,a=e-t;return Math.max(0,Math.min(a/s,1))}case"pre-season":{const t=new Date(e.getFullYear(),3,1),s=new Date(e.getFullYear(),4,31)-t,a=e-t;return Math.max(0,Math.min(a/s,1))}case"in-season":{const t=new Date(e.getFullYear(),5,1),s=new Date(e.getFullYear(),10,30)-t,a=e-t;return Math.max(0,Math.min(a/s,1))}case"playoffs":{const t=new Date(e.getFullYear(),11,1),s=new Date(e.getFullYear(),11,31)-t,a=e-t;return Math.max(0,Math.min(a/s,1))}default:return 0}}}e.exports?e.exports={SeasonalTrainingSystem:t}:window.SeasonalTrainingSystem=t}}]);
//# sourceMappingURL=359.67fac73cb1610369a262.chunk.js.map